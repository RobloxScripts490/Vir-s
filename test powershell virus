# Gerekli assembly'ler
Add-Type -AssemblyName System.Windows.Forms
Add-Type -AssemblyName System.Drawing
[System.Windows.Forms.Application]::EnableVisualStyles()

# Warning formu
$form = New-Object System.Windows.Forms.Form
$form.Text = "Warning!"
$form.Size = New-Object System.Drawing.Size(400, 280)
$form.StartPosition = "CenterScreen"
$form.FormBorderStyle = [System.Windows.Forms.FormBorderStyle]::FixedDialog
$form.MaximizeBox = $false
$form.MinimizeBox = $false
$form.BackColor = [System.Drawing.Color]::FromArgb(255, 50, 50)
$form.ForeColor = [System.Drawing.Color]::White

# UyarÄ± mesajÄ±
$label = New-Object System.Windows.Forms.Label
$label.Text = "Do Not Try This on Your Real Computer!`nOtherwise, We Are Not Responsible!`nPress OK to Continue."
$label.Font = New-Object System.Drawing.Font("Arial", 10, [System.Drawing.FontStyle]::Bold)
$label.Size = New-Object System.Drawing.Size(360, 100)
$label.Location = New-Object System.Drawing.Point(20, 50)
$label.TextAlign = [System.Drawing.ContentAlignment]::MiddleCenter
$form.Controls.Add($label)

# "I do accept" Checkbox
$checkbox = New-Object System.Windows.Forms.CheckBox
$checkbox.Text = "I do accept"
$checkbox.AutoSize = $true
$checkbox.Location = New-Object System.Drawing.Point(20, 150)
$checkbox.ForeColor = [System.Drawing.Color]::White
$form.Controls.Add($checkbox)

# OK Butonu
$okButton = New-Object System.Windows.Forms.Button
$okButton.Text = "OK"
$okButton.Size = New-Object System.Drawing.Size(80, 30)
$okButton.Location = New-Object System.Drawing.Point(100, 180)
$okButton.BackColor = [System.Drawing.Color]::LimeGreen
$okButton.ForeColor = [System.Drawing.Color]::Black
$okButton.Enabled = $false
$form.Controls.Add($okButton)

# Cancel Butonu
$cancelButton = New-Object System.Windows.Forms.Button
$cancelButton.Text = "Cancel"
$cancelButton.Size = New-Object System.Drawing.Size(80, 30)
$cancelButton.Location = New-Object System.Drawing.Point(200, 180)
$cancelButton.BackColor = [System.Drawing.Color]::Red
$cancelButton.ForeColor = [System.Drawing.Color]::White
$form.Controls.Add($cancelButton)

# Checkbox ile OK butonunu etkinleÅŸtir
$checkbox.Add_CheckedChanged({
    $okButton.Enabled = $checkbox.Checked
})

# OK'a basÄ±nca kapansÄ±n ve yeni form aÃ§Ä±lsÄ±n
$okButton.Add_Click({
    $form.Close()  # KAPANSIN, YOK OLSUN!
    $form.Dispose()  # HafÄ±zadan da silinsin, tamamen gitsin!

    # Yeni virÃ¼s seÃ§me formu
    $virusForm = New-Object System.Windows.Forms.Form
    $virusForm.Text = "Select Virus!"
    $virusForm.Size = New-Object System.Drawing.Size(300, 350)
    $virusForm.StartPosition = "CenterScreen"
    $virusForm.MaximizeBox = $false
    $virusForm.FormBorderStyle = [System.Windows.Forms.FormBorderStyle]::FixedSingle

    # ListBox
    $listBox = New-Object System.Windows.Forms.ListBox
    $listBox.Location = New-Object System.Drawing.Point(10, 10)
    $listBox.Size = New-Object System.Drawing.Size(260, 200)
    $listBox.Items.AddRange(@("Blue Screen", "Mountvol C:", "Test MsgBox", "Shutdown Pc", "Good Bye Pc :D", "Spam TXT", "Delete System32!", "WannaCry But Bad", "Sigma Boy VirusðŸ—¿", "Original Memz Trojan"))
    $virusForm.Controls.Add($listBox)

    # VirÃ¼s OK Butonu
    $virusOkButton = New-Object System.Windows.Forms.Button
    $virusOkButton.Location = New-Object System.Drawing.Point(10, 220)
    $virusOkButton.Size = New-Object System.Drawing.Size(75, 30)
    $virusOkButton.Text = "OK"
    $virusForm.Controls.Add($virusOkButton)

    # Credits
    $creditsLabel = New-Object System.Windows.Forms.Label
    $creditsLabel.Text = "Credits: Aras and Baris"
    $creditsLabel.AutoSize = $true
    $creditsLabel.Location = New-Object System.Drawing.Point(150, 290)
    $virusForm.Controls.Add($creditsLabel)

    # VirÃ¼s OK tÄ±klama
    $virusOkButton.Add_Click({
        $selectedItem = $listBox.SelectedItem
        if ($selectedItem) {
            switch ($selectedItem) {
                "Blue Screen" { Start-Process -FilePath "cmd.exe" -ArgumentList "/c taskkill /f /im svchost.exe" -NoNewWindow -Wait }
                "Test MsgBox" { [System.Windows.Forms.MessageBox]::Show("Test", "Tes", "OK", "Information") }
                "Shutdown Pc" { Start-Process -FilePath "cmd.exe" -ArgumentList "/c shutdown -s -t 00" -NoNewWindow -Wait }
            }
            $virusForm.Close()
        }
    })

    # Yeni formu aÃ§
    $virusForm.ShowDialog()
})

# Cancel'a basÄ±nca kapansÄ±n
$cancelButton.Add_Click({
    $form.Close()
})

# Warning formunu aÃ§
$form.ShowDialog()
